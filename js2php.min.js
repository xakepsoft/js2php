function js2php(t,n,e,o){this.url=t.trim(),this.ok="function"==typeof n?n:null,this.err="function"==typeof e?e:null,o="string"==typeof e?e:o,this.type="text"===o||"json"===o||"blob"===o?o:"",this.get=function(t){return r(t,"GET",this.url.split("?")[0].trim(),this.ok,this.err,this.type)},this.post=function(t){return r(t,"POST",this.url,this.ok,this.err,this.type)};var r=function(t,n,e,o,r,s){function u(){var u="";if(null!==t)for(u=("GET"===n?"?":"")+"__xakepsoft_php_func_call__="+t.trim(),i=0;i<arguments.length;i++){var l=arguments[i],p=null===l||"object"!=typeof l&&"function"!=typeof l?"s":"o";u+="&"+p+i+"="+encodeURIComponent("o"===p?JSON.stringify(l):String(l))}var f=new XMLHttpRequest;f.responseType=s,f.onreadystatechange=function(){f.readyState==XMLHttpRequest.DONE&&(200==f.status?null!==o&&o(f.response):null!==r&&r(f))},f.open(n,e+("GET"===n?u:""),!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send("POST"===n?u:null)}return void 0!==t&&""!==String(t).trim()||(t=null),null===t?u():(""===s&&(s="json"),u)}}